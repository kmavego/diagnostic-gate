# UX CANON — AUDIT PAGE

## Diagnostic Gate  
## AuditPage / Decision History View

---

## 0. Статус документа

**Канон. Обязателен к соблюдению.**

AuditPage является частью продуктового ядра Diagnostic Gate.
Нарушение UX-канона AuditPage = подрыв доверия к системе запрета.

---

## 1. Назначение AuditPage

AuditPage — это **протокол решений**, а не аналитический отчёт и не учебный журнал.

Её единственная функция:

> **Фиксировать историю решений Gate во времени, в неизменяемом виде.**

AuditPage отвечает за **доверие**:
- к системе,
- к запретам,
- к последовательности состояний.

---

## 2. Принципиальная роль AuditPage в продукте

AuditPage — это:

- журнал допусков и отказов,
- доказательство, что решения принимались **детерминированно**,
- защита от переписывания истории задним числом.

AuditPage — это **не UI-надстройка**, а **продуктовый артефакт доверия**.

---

## 3. Что AuditPage ОБЯЗАНА показывать (MUST)

Каждая запись аудита (submission) обязана содержать:

### 3.1. Контекст
- `submission_id`
- timestamp
- project_id
- gate_id
- gate_version
- state_before
- state_after

Без этого запись считается неполной.

---

### 3.2. Входные данные (read-only)
- snapshot artifacts (или хэш / ссылка на версию)
- в том виде, в каком они были **на момент evaluate**

Запрещено:
- показывать “текущие” артефакты вместо зафиксированных,
- подменять содержимое задним числом.

---

### 3.3. Решение
Одно из:
- `allow`
- `reject`
- `need_more`

Решение должно быть:
- явно обозначено,
- неизменяемо,
- не интерпретируемо.

---

### 3.4. Ошибки / нарушения
Если decision = `reject` или `need_more`, AuditPage обязана показать:

- полный список errors,
- error_code,
- path,
- gate_id (если применимо).

Без фильтрации.  
Без “важных / неважных”.

---

## 4. Что AuditPage НЕ ИМЕЕТ ПРАВА делать (MUST NOT)

### 4.1. Интерпретация решений
Запрещено:
- “почему система так решила”,
- “обычно тут проблема в…”,
- “рекомендуется исправить”.

AuditPage **ничего не объясняет**.

---

### 4.2. Аналитика и выводы
Запрещено:
- скоринг прогресса,
- проценты успешности,
- графики “улучшений”,
- выводы “стало лучше / хуже”.

AuditPage = факты, не выводы.

---

### 4.3. Сравнение версий артефактов
Запрещено:
- diff-редакторы,
- подсветка изменений,
- комментарии “раньше было так”.

Это разрушает принцип личной ответственности пользователя.

---

### 4.4. UX-эмоции
Под запретом:
- “успешные” цвета,
- позитивные иллюстрации,
- эмодзи,
- награды за allow.

Audit — это протокол, а не мотивация.

---

## 5. Каноническая структура страницы

AuditPage логически делится на 3 уровня:

### Уровень 1 — Лента решений
Хронологический список submissions:
- сверху — последнее решение,
- порядок неизменяем.

Каждая запись — кликабельна.

---

### Уровень 2 — Карточка решения
При выборе submission отображается:

- контекст (gate, state, время),
- decision,
- список ошибок (если есть).

Без редактирования.
Без действий.

---

### Уровень 3 — Зафиксированные данные
Опционально (по клику):
- artifacts snapshot (read-only),
- raw evaluator output.

Только для просмотра.

---

## 6. Связь с GatePage

Разделение ответственности жёсткое:

### GatePage:
- работа с текущими артефактами,
- один submission,
- один decision.

### AuditPage:
- история,
- неизменяемость,
- доказуемость.

GatePage **не анализирует прошлое**.  
AuditPage **не влияет на будущее**.

---

## 7. Поведение при allow

Если decision = `allow`:
- запись появляется в AuditPage,
- state_after фиксируется,
- никаких визуальных акцентов “успеха”.

Allow — это просто допуск, не достижение.

---

## 8. Поведение при reject / need_more

Reject и need_more:
- считаются нормальным состоянием системы,
- отображаются так же нейтрально, как allow,
- не выделяются как “ошибка пользователя”.

Gate не обвиняет. Gate фиксирует.

---

## 9. UX-инварианты (жёстко)

AuditPage считается корректной, если:

- невозможно “улучшить” историю,
- невозможно переписать решение,
- невозможно скрыть отказ,
- невозможно превратить протокол в storytelling.

Если AuditPage становится “удобной” — она сломана.

---

## 10. Критерий доверия

AuditPage выполняет свою функцию, если:

- пользователь **боится** подмены истории,
- инвестор **доверяет** цепочке решений,
- команда **не может схитрить через UI**.

---

## 11. Финальная фиксация

AuditPage — это:

> **Лог принятия ответственности.**

Не инструмент роста.
Не помощник.
Не аналитик.

Любое развитие AuditPage должно:
- усиливать неизменяемость,
- повышать проверяемость,
- снижать интерпретацию.

---

**Этот файл — канон.  
Нарушение = продуктовая ошибка.**

